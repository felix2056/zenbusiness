"use strict";document.addEventListener("DOMContentLoaded",()=>{google.charts.load("current",{packages:["corechart"]});var e=document.getElementById("zb-calculator-break-even--unit-sales"),t=document.getElementById("zb-calculator-break-even--fixed-costs"),n=document.getElementById("zb-calculator-break-even--unit-price"),a=document.getElementById("zb-calculator-break-even--unit-cost");let l=document.querySelector(".break-even-annotation"),s=document.querySelector(".break-even-annotation--count"),c=document.querySelector(".calculator-response-content-success"),u=document.querySelector(".calculator-response-content-failure"),d=document.getElementById("calc_graph_break-even"),m={"unit-sales":parseFloat(stripPrice(e.value)),"fixed-costs":parseFloat(stripPrice(t.value)),"unit-price":parseFloat(stripPrice(n.value)),"unit-cost":parseFloat(stripPrice(a.value))};function o(n,t){n&&(n.addEventListener("input",function(e){i(n,t)&&function(){let e=!0;for(var[t,n]of Object.entries(m))isNaN(n)?e=!1:m[t]=parseFloat(n);return e}()&&r()}),n.addEventListener("keydown",e=>{if("Enter"===e.key||"Enter"===e.code){if(i(n,t)){let t=n.parentElement.parentElement.nextElementSibling;if(t&&t.classList.contains("zb-calculator-break-even--form-banner-input")){let e=t.getElementsByClassName("zb-form-input");e&&e[0].focus()}}e.preventDefault()}},!0))}function i(e,t){let n=stripNumeric(e.value);return!e.classList.contains("calculator-numeric")||(isNaN(n)||!n||""===n.trim()?!e.classList.contains("calculator-optional")||n&&""!=n.trim()?(e.parentElement.classList.add("invalid-input"),void(m[t]=NaN)):(m[t]=0,e.parentElement.classList.remove("invalid-input"),1):(e.parentElement.classList.remove("invalid-input"),m[t]=parseFloat(n),1))}function r(){var n=m["unit-sales"],a=m["fixed-costs"],o=m["unit-price"],i=m["unit-cost"];let r;if(!(isNaN(a)||isNaN(o)||isNaN(i)||isNaN(n))){r=o!==i?a/(o-i):-1,0<=(r=parseInt(Math.ceil(r)))?(document.getElementById("break-even").innerHTML=r,document.getElementById("break-even-sales").innerHTML=currencyFormatter.format(p(a,i,r)),c.classList.remove("hidden"),u.classList.add("hidden")):(c.classList.add("hidden"),u.classList.remove("hidden"));let e=new google.visualization.DataTable;e.addColumn("number","Units"),e.addColumn("number","Total Cost"),e.addColumn("number","Total Revenue"),0<r&&e.addColumn("number","Break Even");n=1.25*Math.max(n,r);0<r?e.addRows([[0,a+0*i,0*o,null],[r,p(a,i,r),v(o,r),v(o,r)],[n,a+n*i,n*o,null]]):e.addRows([[0,a+0*i,0*o],[n,a+n*i,n*o]]);a={chartArea:{right:0,left:80},vAxis:{format:"$#,###",textStyle:{color:"#FFF"},baselineColor:"#FFF",gridlines:{color:"#1F999E"},minorGridlines:{color:"#1F999E"}},hAxis:{title:"Units Sold",titleTextStyle:{color:"#FFF",bold:!0,italic:!1},textStyle:{color:"#FFF",bold:!0,italic:!1},baselineColor:"#FFF",gridlines:{color:"#1F999E"},minorGridlines:{color:"#1F999E"}},curveType:"function",backgroundColor:"#205D5F",colors:["#33F28B","#FFB030","#FFFFFF"],lineWidth:3,fontName:"Inter",fontSize:"16.4",fontWeight:600,focusTarget:"datum",tooltip:{isHtml:!0},series:{0:{pointSize:0},2:{visibleInLegend:!1,pointSize:14}},crosshair:{trigger:"both"}};let t=new google.visualization.LineChart(d);google.visualization.events.addListener(t,"ready",function(e){let t=this.getChartLayoutInterface();var n=t.getChartAreaBoundingBox();0<r?(s.innerHTML=r,l.style.top=n.top+Math.floor(t.getYLocation(e.getValue(1,1)))+-26+"px",l.style.left=n.left+Math.floor(t.getXLocation(r))+-126+"px",l.classList.remove("hidden")):l.classList.add("hidden")}.bind(t,e)),t.draw(e,a)}}function p(e,t,n){return e+n*t}function v(e,t){return t*e}o(e,"unit-sales"),o(t,"fixed-costs"),o(n,"unit-price"),o(a,"unit-cost"),google.charts.setOnLoadCallback(r)});
