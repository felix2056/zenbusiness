"use strict";ZenApiUtils||console.warn("zen-api utils are not loading"),function(n){var e=n.getElementsByClassName("close-button"),t=n.querySelectorAll(".zb-customizable-form-and-button .zb-button");for(let t of n.getElementsByClassName("email"))t.addEventListener("keydown",()=>{let e=t.closest(".zb-customizable-form-and-button").nextElementSibling;e.classList.contains("hidden")||e.classList.add("hidden")}),t.addEventListener("keyup",function(e){if("NumpadEnter"===e.code||"Enter"===e.code||"Enter"===e.key){e.preventDefault();const t=n.querySelector(".zb-hero-email-lead-capture-v2 .zb-customizable-form-and-button .zb-button");t.click()}});for(let t of e)t.addEventListener("click",()=>{let e=t.closest(".zb-hero-email-lead-capture-v2--modal");e.classList.add("hidden")});for(let e of t)e.addEventListener("click",i=>{var s=e.closest("form").getElementsByClassName("email")[0];{let e=s.closest(".zb-customizable-form-and-button").nextElementSibling;if(e.classList.add("hidden"),"click"===i.type||"keypress"===i.type&&13===i.keyCode){i.stopPropagation(),i.preventDefault();i=s.value;if(!0===/^\w{1,99}([\.-]?\w{1,99}){0,99}(\+[a-z0-9-]{1,99})?@\w{1,99}([\.-]?\w{1,99}){0,99}(\.\w{2,10}){1,99}$/.test(i)){let e={visit_uuid:ZenApiUtils.getUUID(),first_name:"",last_name:"",email:i,phone:"",source:ZenApiUtils.getSource,selected_state:"",searchstate:"",searchcontent:"",entity_name:"",entity_type:"",plan_flow:"",purchase_flow:"",pricing_uuid:"",pricing_test:"",lead_tracking:{device_type:ZenApiUtils.getDeviceType,flow_name:"",user_type:""},lead_content:"",lead_url:window.location.href,lead_medium:"DC_Onsite"},t=window.location.href,n=(t.includes("research")?(e.lead_tracking.user_type="Research_Institute",e.lead_content="Research Institute Subscription Sign Up"):t.includes("small-business-tax-tips")&&(e.lead_tracking.user_type="Tax_Hub",e._lead_content="Tax Hub Subscription Sign Up"),ZenApiUtils.sendRequest(ZenApiUtils.buildRequest("lead",e)),ZenThirdPartyTracking.identify(e.email),s.closest(".zb-hero-email-lead-capture-v2").nextElementSibling);n.classList.remove("hidden")}else e.classList.remove("hidden")}return}})}(document);
